{"ast":null,"code":"import React,{useState}from'react';import{getAuth,signInWithEmailAndPassword}from'firebase/auth';import{Link,useNavigate}from'react-router-dom';import'./login.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Login=()=>{const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[error,setError]=useState(null);const navigate=useNavigate();// React Routerのフック\nconst handleLogin=async event=>{event.preventDefault();setError(null);const auth=getAuth();try{const userCredential=await signInWithEmailAndPassword(auth,email,password);const user=userCredential.user;console.log('ログイン成功:',user);// ログイン成功後の処理 (例: ホーム画面へ遷移)\nnavigate('/dashboard');// ログイン後はダッシュボードへ\n}catch(error){console.error('ログイン失敗:',error);let errorMessage='ログインに失敗しました。';switch(error.code){case'auth/invalid-email':errorMessage='メールアドレスの形式が正しくありません。';break;case'auth/user-not-found':errorMessage='登録されていないメールアドレスです。';break;case'auth/wrong-password':errorMessage='パスワードが間違っています。';break;default:errorMessage='メールアドレスまたはパスワードが正しくありません。';}setError(errorMessage);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\u30ED\\u30B0\\u30A4\\u30F3\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleLogin,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"\\u30E1\\u30FC\\u30EB\\u30A2\\u30C9\\u30EC\\u30B9:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email\",value:email,onChange:e=>setEmail(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"\\u30D1\\u30B9\\u30EF\\u30FC\\u30C9:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",value:password,onChange:e=>setPassword(e.target.value),required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"\\u30ED\\u30B0\\u30A4\\u30F3\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u30A2\\u30AB\\u30A6\\u30F3\\u30C8\\u3092\\u304A\\u6301\\u3061\\u3067\\u306A\\u3044\\u65B9\\u306F\",/*#__PURE__*/_jsx(Link,{to:\"/regist\",children:\"\\u3053\\u3061\\u3089\"}),\"\\u304B\\u3089\\u65B0\\u898F\\u767B\\u9332\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002\"]}),/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"back-link\",children:\"\\u30DB\\u30FC\\u30E0\\u306B\\u623B\\u308B\"})]});};export default Login;","map":{"version":3,"names":["React","useState","getAuth","signInWithEmailAndPassword","Link","useNavigate","jsx","_jsx","jsxs","_jsxs","Login","email","setEmail","password","setPassword","error","setError","navigate","handleLogin","event","preventDefault","auth","userCredential","user","console","log","errorMessage","code","className","children","onSubmit","htmlFor","type","id","value","onChange","e","target","required","to"],"sources":["C:/Users/ru07k/travel/my-react-app/src/pages/login/login.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { getAuth, signInWithEmailAndPassword } from 'firebase/auth';\r\nimport { Link, useNavigate } from 'react-router-dom';\r\nimport './login.css';\r\n\r\nconst Login: React.FC = () => {\r\n  const [email, setEmail] = useState<string>('');\r\n  const [password, setPassword] = useState<string>('');\r\n  const [error, setError] = useState<string | null>(null);\r\n  const navigate = useNavigate(); // React Routerのフック\r\n\r\n  const handleLogin = async (event: React.FormEvent) => {\r\n    event.preventDefault();\r\n    setError(null);\r\n\r\n    const auth = getAuth();\r\n    try {\r\n      const userCredential = await signInWithEmailAndPassword(auth, email, password);\r\n      const user = userCredential.user;\r\n      console.log('ログイン成功:', user);\r\n      // ログイン成功後の処理 (例: ホーム画面へ遷移)\r\n      navigate('/dashboard'); // ログイン後はダッシュボードへ\r\n    } catch (error: any) {\r\n      console.error('ログイン失敗:', error);\r\n      let errorMessage = 'ログインに失敗しました。';\r\n      switch (error.code) {\r\n        case 'auth/invalid-email':\r\n          errorMessage = 'メールアドレスの形式が正しくありません。';\r\n          break;\r\n        case 'auth/user-not-found':\r\n          errorMessage = '登録されていないメールアドレスです。';\r\n          break;\r\n        case 'auth/wrong-password':\r\n          errorMessage = 'パスワードが間違っています。';\r\n          break;\r\n        default:\r\n          errorMessage = 'メールアドレスまたはパスワードが正しくありません。';\r\n      }\r\n      setError(errorMessage);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"login\">\r\n      <h1>ログイン</h1>\r\n      {error && <p className=\"error-message\">{error}</p>}\r\n      <form onSubmit={handleLogin}>\r\n        <div>\r\n          <label htmlFor=\"email\">メールアドレス:</label>\r\n          <input\r\n            type=\"email\"\r\n            id=\"email\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <label htmlFor=\"password\">パスワード:</label>\r\n          <input\r\n            type=\"password\"\r\n            id=\"password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            required\r\n          />\r\n        </div>\r\n        <button type=\"submit\">ログイン</button>\r\n      </form>\r\n      <p>\r\n        アカウントをお持ちでない方は<Link to=\"/regist\">こちら</Link>から新規登録してください。\r\n      </p>\r\n      <Link to=\"/\" className=\"back-link\">ホームに戻る</Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}